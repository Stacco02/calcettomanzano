<!DOCTYPE html>
<html lang="it">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>C5 Manzano 1988 – Home 2025</title>
		<meta name="description" content="C5 Manzano 1988 – futsal, notizie, palmarès, sponsor e galleria." />
		<meta property="og:title" content="C5 Manzano 1988" />
		<meta property="og:description" content="Notizie, palmarès, sponsor e galleria del C5 Manzano 1988." />
		<link rel="stylesheet" href="style-2025.css" />
	</head>
	<body>
		<header class="header" id="top">
			<div class="container nav">
				<a class="brand" href="index.html" aria-label="C5 Manzano 1988">
					<img src="images/Manzanologo.png" alt="Logo C5 Manzano 1988" />
					<span>C5 Manzano 1988</span>
				</a>
				<nav class="menu" aria-label="Navigazione principale">
					<a href="index.html" class="active">Home</a>
					<a href="news-2025.html">News</a>
					<a href="societa-2025.html">Società</a>
					<a href="prima-squadra-2025.html">1a Squadra</a>
					<a href="under-2025.html">Under 21/19</a>
					<a href="sponsor-2025.html">Sponsor</a>
					<a href="trasparenza-2025.html">Trasparenza</a>
					<a href="safeguarding-2025.html">Safeguarding</a>
				</nav>
				<button class="burger" id="burger" aria-label="Apri menu" aria-controls="mobile-panel" aria-expanded="false"><span></span></button>
	</div>
			<div class="mobile-panel" id="mobile-panel" aria-hidden="true">
				<div class="mobile-drawer">
					<nav class="mobile-menu" aria-label="Menu mobile">
						<a href="index.html">Home</a>
						<a href="news-2025.html">News</a>
						<a href="societa-2025.html">Società</a>
						<a href="prima-squadra-2025.html">1a Squadra</a>
						<a href="under-2025.html">Under 21/19</a>
						<a href="sponsor-2025.html">Sponsor</a>
						<a href="trasparenza-2025.html">Trasparenza</a>
						<a href="safeguarding-2025.html">Safeguarding</a>
					</nav>
</div>
</div>
		</header>

		<section class="hero hero-home" style="background-image: url('images/BackgroundHome.jpeg'); background-size: cover; background-position: center; background-repeat: no-repeat; position: relative;">
			<div class="container" style="position: relative; z-index: 2;">
				<h1 style="text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">C5 Manzano 1988</h1>
				<p class="subtitle" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">Passione futsal, territorio e giovani: notizie, risultati, sponsor e iniziative del club.</p>
				<div style="margin-top: var(--sp-5);">
					<a class="btn btn-primary" href="news-2025.html">Ultime News</a>
					<a class="btn btn-secondary" href="sponsor-2025.html" style="margin-left: var(--sp-3); background-color: rgba(255, 255, 255, 0.9); color: #0b3f91; border: 2px solid #0b3f91; text-shadow: none;">I nostri Sponsor</a>
</div>
</div>
		</section>

		<main id="main" class="main">
			<section id="news" class="section">
				<div class="container">
					<h2>Ultime News</h2>
					<div class="news-grid" id="homeNewsGrid">
						<article class="card">
							<div class="media"><img loading="lazy" src="gallery/cristian_saro_FB.png" alt="Cristian Saro" /></div>
							<div class="content">
								<h3>Under 21 – Squadre iscritte</h3>
								<p class="meta">Ufficio Stampa – 16 Ago 2025</p>
                </div>
						</article>
						<article class="card">
							<div class="media"><img loading="lazy" src="gallery/Piani_allenatore21.jpg" alt="Nuovo allenatore Under 21 – Piani" /></div>
							<div class="content">
								<h3>Nuovo allenatore U21</h3>
								<p class="meta">Ufficio Stampa – 15 Ago 2025</p>
            </div>
						</article>
						<article class="card">
							<div class="media"><img loading="lazy" src="images/Under_19.png" alt="Under 19 – comunicazione" /></div>
							<div class="content">
								<h3>Under 19 – Programma estivo</h3>
								<p class="meta">Ufficio Stampa – 05 Lug 2025</p>
						</div>
						</article>
		</div>
	</div>
			</section>

			<section id="trophy" class="section">
				<div class="container">
					<h2>Palmarès</h2>
					<div class="trophy-grid">
						<div class="trophy">
							<img src="images/logo_scudett_54x59.jpg" alt="Scudetto" />
							<div>
								<h3>Campionato Regionale</h3>
								<p class="muted">1995/96 – 1996/97 – 2006/07 – 2014/15 – 2015/16 – 2022/23</p>
</div>
                </div>
						<div class="trophy">
							<img src="images/logo_coppa_it_55x54.jpg" alt="Coppa Italia" />
							<div>
								<h3>Coppa Italia Regionale</h3>
								<p class="muted">1996/97 – 2014/15 – 2015/16 – 2019/20 – 2022/23</p>
					</div>
						</div>
								</div>
							</div>
			</section>

			<section id="sponsor" class="section">
				<div class="container">
					<h2>Sponsor</h2>
					<div class="sponsor-grid">
						<div class="sponsor"><img loading="lazy" src="images/logo_BANCA_360_FVG.png" alt="Banca 360 FVG" /></div>
						<div class="sponsor"><img loading="lazy" src="images/logo_DEBER.png" alt="DEBER" /></div>
						<div class="sponsor"><img loading="lazy" src="images/logo_ediciano_design.png" alt="EdiCiano Design" /></div>
						<div class="sponsor"><img loading="lazy" src="images/logo_GLOBAL_CONSULTING.png" alt="Global Consulting" /></div>
						<div class="sponsor"><img loading="lazy" src="images/LOGO_SEMESTEB_sfondo-giallo.png" alt="Semesteb" /></div>
						<div class="sponsor"><img loading="lazy" src="images/PETTARINI_altezza_100.png" alt="Pettarini" /></div>
						<div class="sponsor"><img loading="lazy" src="images/logo_ET_Ristrutturazioni_ALT200.jpg" alt="ET Ristrutturazioni" /></div>
						<div class="sponsor"><img loading="lazy" src="images/logo_FVG.png" alt="Regione FVG" /></div>
								</div>
							</div>
			</section>

			<section id="gallery" class="section">
				<div class="container">
					<h2>Galleria</h2>
					<div class="gallery-grid">
						<div class="gallery-item"><div class="media"><img loading="lazy" src="gallery/cristian_saro_FB.png" alt="Cristian Saro" /></div></div>
						<div class="gallery-item"><div class="media"><img loading="lazy" src="gallery/francesco_polidori_FB.png" alt="Francesco Polidori" /></div></div>
						<div class="gallery-item"><div class="media"><img loading="lazy" src="images/Manzanologo.png" alt="Logo C5 Manzano" /></div></div>
		</div>
	</div>
			</section>
		</main>

		<footer class="footer">
			<div class="container">
				<div class="links">
					<a href="https://www.divisionecalcioa5.it/" target="_blank" rel="noopener">Divisione Calcio a 5</a>
					<a href="http://www.regione.fvg.it/rafvg/cms/RAFVG/" target="_blank" rel="noopener">Regione Friuli Venezia Giulia</a>
					<a href="https://friuliveneziagiulia.lnd.it/it/" target="_blank" rel="noopener">LND – Friuli Venezia Giulia</a>
					<a href="https://www.calcettomanzano.it/www.comune.manzano.ud.it/hh/index.php?jvs=0&amp;acc=1" target="_blank" rel="noopener">Comune di Manzano (UD)</a>
</div>
				<div class="social" aria-label="Social">
					<a href="https://www.facebook.com/manzano.calcetto.fans/" aria-label="Facebook">Fb</a>
					<a href="https://www.instagram.com/c5manzano1988/" aria-label="Instagram">Ig</a>
                </div>
				<p class="copyright">© 2003–2025 A.D.S. C5 MANZANO 1988 – Tutti i diritti riservati • <a href="mailto:robertopit@inwind.it">Contatta webmaster</a></p>
            </div>
					</footer>
		
		<script src="scripts-2025.js" defer></script>
		<script>
		// Popola in home le ultime 3 news reali prese dalla pagina news
		(function(){
			const monthMap = {
				'gennaio':0,'febbraio':1,'marzo':2,'aprile':3,'maggio':4,'giugno':5,'luglio':6,'agosto':7,'settembre':8,'ottobre':9,'novembre':10,'dicembre':11
			};
			function parseItalianDate(text){
				// es. "14 giugno 2025"
				const m = (text||'').toLowerCase().match(/(\d{1,2})\s+([a-zàéìòù]+)\s+(\d{4})/i);
				if(!m) return null;
				const d = parseInt(m[1],10);
				const mon = monthMap[m[2]];
				const y = parseInt(m[3],10);
				if(mon==null) return null;
				return new Date(y, mon, d);
			}

			function createCard({title, href, author, dateText, image}){
				const card = document.createElement('article');
				card.className = 'card';
				card.innerHTML = `
					<div class="media"><img loading="lazy" src="${image}" alt="${title.replace(/"/g,'&quot;')}" /></div>
					<div class="content">
						<h3><a href="${href}" style="text-decoration:none;color:inherit">${title}</a></h3>
						<p class="meta">${author} — ${dateText}</p>
					</div>
				`;
				return card;
			}

			document.addEventListener('DOMContentLoaded', async () => {
				const grid = document.getElementById('homeNewsGrid');
				if(!grid) return;
				try{
					const res = await fetch('news-2025.html', {cache:'no-store'});
					if(!res.ok) throw new Error('fetch news page failed');
					const html = await res.text();
					const doc = new DOMParser().parseFromString(html, 'text/html');
					const cards = Array.from(doc.querySelectorAll('.news-grid .news-card'));
					const entries = cards.map(card => {
						const a = card.querySelector('.news-title a');
						const href = a ? a.getAttribute('href') : '#';
						const title = a ? a.textContent.trim() : 'Articolo';
						const author = (card.querySelector('.news-author')||{}).textContent || 'Ufficio Stampa';
						const dateText = (card.querySelector('.news-date')||{}).textContent || '';
						const date = parseItalianDate(dateText) || new Date(2000,0,1);
						// Non abbiamo immagini specifiche: usa un placeholder coerente
						const image = 'images/Manzanologo.png';
						return {title, href, author, dateText, date, image};
					}).sort((a,b)=> b.date - a.date).slice(0,3);

					// Prova a recuperare un'immagine di copertina dal singolo articolo
					async function resolveCover(entry){
						try{
							const abs = new URL(entry.href, window.location.href).toString();
							const r = await fetch(abs, {cache:'no-store'});
							if(!r.ok) return entry;
							const text = await r.text();
							const doc = new DOMParser().parseFromString(text, 'text/html');
							let imgEl = doc.querySelector('.content img');
							if(!imgEl) imgEl = doc.querySelector('img');
							if(imgEl && imgEl.getAttribute('src')){
								const src = imgEl.getAttribute('src');
								entry.image = new URL(src, abs).toString();
							}
						}catch(e){ /* ignore */ }
						return entry;
					}

					const enriched = await Promise.all(entries.map(resolveCover));

					// Sostituisci i contenuti esistenti con i 3 più recenti
					grid.innerHTML = '';
					enriched.forEach(e=> grid.appendChild(createCard(e)));
				}catch(err){
					// In caso di errore mantieni i 3 statici già presenti
					console.warn('Impossibile caricare le ultime news dinamiche:', err);
				}
			});
		})();
		</script>
	</body>
</html>
